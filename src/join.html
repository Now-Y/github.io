<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="author" content="order by womengda.cn/" />
	<title>加入软创</title>
	<link rel="icon" href="static/v4/images/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" href="./static/v4/css/public.css">
	<link rel="stylesheet" href="./static/v4/css/join.css">
	<script src="./static/v4/js/jquery.min.js"></script>
</head>
<body>
	<div class="nav">
		<div class="nav_con">
			<img class="logo" src="static/v4/images/logo.png" width="5%"/>
			<img class="logo_infro" src="static/v4/images/logo_infro.png" width="15%"/>
			<ul class="nav_ul">
				<li class="nav_li"><a href="Lb.html">首页</a><div></div></li>
				<li class="nav_li"><a href="about.html">关于软创</a><div></div></li>
				<li class="li_ep" class="active_hover">加入软创<div class="li_list"><a href="join.html">软创招新</a></div>
				</li>
				<li class="nav_li"><a href="contact.html">联系我们</a><div></div></li>
			</ul>
		</div>
	</div>
	<html>
	<head>
		<title>Title</title>
		<script src="static/v4/js/jquery-3.5.1.js"></script>
		<script>
			function back() {
				var email= document.getElementById('email').value
				var id= document.getElementById('id').value
				var major= document.getElementById('major').value
				var name= document.getElementById('name').value
				var phoneNumber= document.getElementById('phoneNumber').value
				var sex= document.getElementById('sex').value
				$.ajax({
					url: "http://120.48.132.242:8080/sign/search", //提供的路径
					type: "GET",       //提交方式
					contentType:"application/json",
					data: {
						email:email,
						id:id,
						major:major,
						name:name,
						phoneNumber:phoneNumber,
						sex:sex
					},
					dataType: "JSON",       //规定请求成功后返回的数据
					success: function (data) {
						var obj = JSON.parse(data)
						//请求成功之后进入该方法，data为成功后返回的数据
						if (obj.code === 0){
							alert('您的输入有误，请重新输入')
						}else if (obj.code === 1){
							$("#email").val(obj.data.email)
							$("#id").val(obj.data.id)
							$("#major").val(obj.data.major)
							$("#name").val(obj.data.name)
							$("#phoneNumber").val(obj.data.phoneNumber)
							$("#sex").val(obj.data.sex)
						}
					},
					error: function (errorMsg) {
						//请求失败之后进入该方法
						alert('系统错误，请稍后再试')
					}
				});
			}
		</script>
	</head>
	<body>

	<form id="form1" method="post" action="http://120.48.132.242:8080/sign/submit">
		邮箱：<input type="text" id="email">
		学号：<input type="text" id="id">
		专业：<input type="text" id="major">
		名字：<input type="text" id="name">
		手机：<input type="text" id="phoneNumber">
		性别：<input type="text" id="sex">
		<input type="submit" value="submit" onclick="back()">
	</form>
	</body>
	</html>

</body>
</html>

